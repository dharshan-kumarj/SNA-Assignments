# Secure PHP Application with MongoDB & Docker

A Full Stack Web Application developed for SNA Assignment 3.
It features a secure authentication system, MongoDB integration, and asynchronous task processing using RabbitMQ.

## Architecture
The project follows a `workspace` vs `htdocs` structure:
*   `workspace/`: Contains source code, raw assets, and build configuration.
*   `htdocs/`: The public-facing directory served by Apache (generated by Grunt).
*   `docker/`: Container configuration files.

## Features
*   **Frontend**: Responsive UI using Bootstrap 5, minified assets via Grunt.
*   **Backend**: PHP 8.2 (OOP), MongoDB (NoSQL), Fingerprint JS (Security).
*   **DevOps**: Docker Containerization, GitLab CI/CD, RabbitMQ, Cron Jobs.

## Prerequisites
*   Node.js & NPM (for building frontend assets)
*   Docker & Docker Compose (for running the app)
*   Git

## Setup & Development Usage

### 1. Build Assets (Frontend)
Move to the workspace directory and install dependencies:
```bash
cd workspace
npm install
```
Run Grunt to minify CSS/JS and copy PHP files to the distribution folder (`htdocs/`):
```bash
npx grunt
```

### 2. Run Application (Docker)
Navigate to the root and start the containers:
```bash
# From Assignment-3 root
docker-compose -f docker/docker-compose.yml up --build
```
*   **Web App**: [http://localhost:8080](http://localhost:8080)
*   **RabbitMQ Admin**: [http://localhost:15672](http://localhost:15672) (guest/guest)

## Development Workflow
1.  Edit files in `workspace/src`.
2.  Run `npx grunt` in `workspace/` to update `htdocs/`.
3.  Refresh the browser.

## Security Features
*   **Session Fingerprinting**: Uses `FingerprintJS` and matches User Agent + IP hash to prevent session hijacking.
*   **Defensive Coding**: Strict type checking, exception handling, and input sanitization (htmlspecialchars).
*   **Environment Variables**: Credentials managed via environment variables (Docker).

## CI/CD
The project uses GitLab CI (`.gitlab-ci.yml`) to:
1.  **Build** the Docker image.
2.  **Test** the application.
3.  **Deploy** to the production environment.
